{
  "schemaVersion": "1.0",
  "statusEnum": [
    "New",
    "InProgress",
    "Done"
  ],
  "wipLimit": 1,
  "canonicalOrdering": "lowest-id-first",
  "selectionRule": "next = lowest-id New item where all dependsOn are Done",
  "backlogEvolution": {
    "editWindows": [
      "before-starting-new-item",
      "blocked-current-item"
    ],
    "allowedReasons": [
      "missing-infrastructure",
      "bug-found-by-tests",
      "task-too-large-split",
      "spec-mismatch-change-proposal"
    ],
    "requiredFields": [
      "id",
      "title",
      "milestone",
      "status",
      "dependsOn",
      "requirementRef",
      "rationale",
      "validation",
      "definitionOfDoneRef"
    ]
  },
  "items": [
    {
      "id": "FL-0001",
      "epic": "E0",
      "milestone": "M0",
      "title": "Create solution + project skeletons",
      "status": "New",
      "dependsOn": [],
      "requirementRef": "/.agent/AGENT_OS.md#milestone-m0",
      "rationale": "Establish stable module boundaries and toolchain gates before implementing gameplay logic.",
      "sizeHint": "S",
      "deliverables": [
        "Floodline.Core (netstandard2.1;net8.0)",
        "Floodline.Core.Tests (net8.0)",
        "Floodline.Cli (net8.0)",
        "Floodline.Levels (optional shared schema/helpers)"
      ],
      "definitionOfDoneRef": "/.agent/AGENT_OS.md#dod",
      "validation": [
        "pwsh ./scripts/ci.ps1 -Scope M0 -Configuration Release -LockedRestore:$false"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0002",
      "epic": "E0",
      "milestone": "M0",
      "title": "Enable Central Package Management + locked restore",
      "status": "New",
      "dependsOn": [
        "FL-0001"
      ],
      "requirementRef": "/.agent/AGENT_OS.md#strict-net-baseline",
      "rationale": "Enforce pinned package graph and deterministic restores to support strict CI gates.",
      "sizeHint": "S",
      "deliverables": [
        "Directory.Packages.props (pinned versions)",
        "Directory.Build.props: ManagePackageVersionsCentrally=true, lock files enabled",
        "packages.lock.json created and committed"
      ],
      "definitionOfDoneRef": "/.agent/AGENT_OS.md#dod",
      "validation": [
        "pwsh ./scripts/ci.ps1 -Scope M0 -Configuration Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0003",
      "epic": "E0",
      "milestone": "M0",
      "title": "Strict analyzers + formatting gates (warnings-as-errors)",
      "status": "New",
      "dependsOn": [
        "FL-0002"
      ],
      "requirementRef": "/.agent/AGENT_OS.md#strict-net-baseline",
      "rationale": "Prevent lint/nullable/style debt from accumulating in an autonomous pipeline.",
      "sizeHint": "S",
      "deliverables": [
        ".editorconfig (strict)",
        "TreatWarningsAsErrors=true, EnforceCodeStyleInBuild=true, Nullable=enable"
      ],
      "definitionOfDoneRef": "/.agent/AGENT_OS.md#dod",
      "validation": [
        "pwsh ./scripts/ci.ps1 -Scope M0 -Configuration Release -IncludeFormat"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0101",
      "epic": "E1",
      "milestone": "M1",
      "title": "Core primitives: coords, gravity, ordering",
      "status": "New",
      "dependsOn": [
        "FL-0003"
      ],
      "requirementRef": "/.agent/AGENT_OS.md#hard-invariants",
      "rationale": "Create deterministic primitives and canonical ordering required for all later mechanics.",
      "sizeHint": "M",
      "deliverables": [
        "Int3 coordinate type",
        "Gravity directions + right-axis table",
        "Deterministic iteration helpers (stable ordering)"
      ],
      "definitionOfDoneRef": "/.agent/AGENT_OS.md#dod",
      "validation": [
        "pwsh ./scripts/ci.ps1 -Scope M1 -Configuration Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0102",
      "epic": "E1",
      "milestone": "M1",
      "title": "Grid model + occupancy types",
      "status": "New",
      "dependsOn": [
        "FL-0101"
      ],
      "requirementRef": "/docs/GDD_v0_2.md",
      "rationale": "Represent the playfield deterministically, supporting solids, water, drains, and objectives.",
      "sizeHint": "M",
      "deliverables": [
        "Cell/voxel occupancy model with enum/material IDs",
        "Single occupancy invariant enforced",
        "Deterministic hashing of grid state"
      ],
      "definitionOfDoneRef": "/.agent/AGENT_OS.md#dod",
      "validation": [
        "pwsh ./scripts/ci.ps1 -Scope M1 -Configuration Release"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    },
    {
      "id": "FL-0110",
      "epic": "E1",
      "milestone": "M1",
      "title": "CLI runner (level + scripted inputs)",
      "status": "New",
      "dependsOn": [
        "FL-0102"
      ],
      "requirementRef": "/.agent/AGENT_OS.md#autonomy-acceptance",
      "rationale": "Enable headless execution + determinism evidence without Unity.",
      "sizeHint": "M",
      "deliverables": [
        "CLI loads level JSON + seed + scripted inputs",
        "Runs until win/lose or max ticks",
        "Outputs final metrics + determinism hash summary"
      ],
      "definitionOfDoneRef": "/.agent/AGENT_OS.md#dod",
      "validation": [
        "pwsh ./scripts/ci.ps1 -Scope M1 -Configuration Release",
        "dotnet run --project Floodline.Cli -- --help",
        "dotnet run --project Floodline.Cli -- --level <path> --inputs <path>"
      ],
      "evidence": {
        "commandsRun": [],
        "notes": []
      }
    }
  ]
}